"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[701],{854:function(t,n,e){e.d(n,{a:function(){return i}});var r=e(643),o=e(184),i=function(){return(0,o.jsx)(r.RL,{height:"80",width:"80",radius:"48",color:"#ff6347",ariaLabel:"watch-loading",wrapperStyle:{},wrapperClassName:"",visible:!0})}},8701:function(t,n,e){e.r(n),e.d(n,{default:function(){return b}});var r=e(9434),o=e(2791),i=function(t){return t.shops.items},s=e(4694),a=e(5780),c="ShopList_buttonShop__hcDCZ",u=e(184),l=function(){var t=(0,r.I0)();(0,o.useEffect)((function(){t((0,s.N)()),t((0,a.T)("FastGood"))}),[t]);var n=(0,r.v9)(i).map((function(n){return(0,u.jsx)("li",{children:(0,u.jsx)("button",{className:c,onClick:function(){t((0,a.T)(n.name)),localStorage.setItem("shop",n.name)},children:n.name})},n._id)}));return(0,u.jsx)("ul",{children:n})},d=e(3433),f=e(9439),h=e(3666),m=function(t){return t.goods.items},_=function(t){return t.goods.isLoading},p=e(854),v="GoodsList_button__izDGf",j="GoodsList_img__NSveh",x="GoodsList_goodTitle__zoRtp",g="GoodsList_list__lxyED",N=function(){var t=(0,o.useState)([]),n=(0,f.Z)(t,2),e=n[0],i=n[1],s=(0,r.v9)(m),a=(0,r.v9)(_),c=(0,r.I0)(),l=localStorage.getItem("orders");(0,o.useEffect)((function(){if(null!==l&&0!==l.length){var t=JSON.parse(l);i((0,d.Z)(t.map((function(t){return t._id}))))}}),[l]);var N=s.map((function(t){return(0,u.jsxs)("li",{children:[(0,u.jsxs)("div",{children:[(0,u.jsx)("img",{className:j,src:t.url,alt:"Food",width:"240"}),(0,u.jsx)("p",{className:x,children:t.title}),(0,u.jsxs)("p",{children:["Price: ",t.price]})]}),e.includes(t._id)?(0,u.jsx)("button",{className:v,onClick:function(){return n=t,c((0,h.cl)(n)),void i(e.filter((function(t){return t._id!==n._id})));var n},children:"Remove from cart"}):(0,u.jsx)("button",{className:v,onClick:function(){var n;if(!l||!JSON.parse(l).find((function(n){return n.shop!==t.shop})))return n=t,c((0,h.T5)(n)),void i([].concat((0,d.Z)(e),[n._id]));alert("You can order products only from one shop. You already have items from another shop in your cart!")},children:"Add to cart"})]},t._id)}));return(0,u.jsx)(u.Fragment,{children:a?(0,u.jsx)(p.a,{}):(0,u.jsx)("ul",{className:g,children:N})})},S="ShopPage_content__FlRji",b=function(){return(0,u.jsxs)("div",{className:S,children:[(0,u.jsx)(l,{}),(0,u.jsx)(N,{})]})}}}]);
//# sourceMappingURL=701.ebbda613.chunk.js.map