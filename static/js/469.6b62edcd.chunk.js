"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[469],{469:function(e,t,r){r.r(t),r.d(t,{default:function(){return N}});var n=r(9434),a=r(1413),l=r(8543),i={name:"",email:"",phone:"",address:""},o=r(675),s="OrderForm_button__YYeSI",u="OrderForm_form__mnAgW",c=r(184),d=function(e){var t=e.onSubmit,r=e.listOfOrders,n=e.total,d=(0,l.Z)({initialState:i}),m=d.state,h=d.setState,p=d.handleChange,f=function(e,r){e.preventDefault(),t(r),h((0,a.Z)({},i))},_=localStorage.getItem("shop"),g=m.email,v=m.name,b=m.phone,x=m.address;return(0,c.jsxs)("form",{className:u,onSubmit:function(e){f(e,(0,a.Z)((0,a.Z)({},m),{},{owner:g,shop:_,goods:r,totalPrice:n}))},children:[(0,c.jsx)(o.Z,{id:"name",label:"Your name",name:"name",value:v,placeholder:"your name",type:"text",handleChange:function(e){return p(e)}}),(0,c.jsx)(o.Z,{id:"email",label:"Your email",name:"email",value:g,placeholder:"your email",type:"email",handleChange:function(e){return p(e)}}),(0,c.jsx)(o.Z,{id:"phone",label:"Your phone",name:"phone",value:b,placeholder:"your phone",type:"tel",handleChange:p}),(0,c.jsx)(o.Z,{id:"address",label:"Your address",name:"address",value:x,placeholder:"your address",type:"text",handleChange:p}),(0,c.jsxs)("div",{className:s,children:["Total: ",""," ",n]}),(0,c.jsx)("button",{className:s,children:"SUBMIT YOUR ORDER"})]})},m=r(2791),h=r(3666),p=r(3351),f="OrderList_img__TPr61",_="OrderList_desc__RCLrB",g="OrderList_goodTitle__KQ6YM",v="OrderList_list__c7IU4",b="OrderList_input__KdChA",x="OrderList_totalPrice__tdns3",y="OrderList_delete__2w8ll",O=function(){var e=(0,n.v9)(p.D).goods,t=(0,n.I0)();(0,m.useEffect)((function(){0===e.length?t((0,h.m1)(0)):t((0,h.m1)(e.map((function(e){return Number(e.price)*Number(e.quantity)})).reduce((function(e,t){return console.log(t),e+t}),0)))}),[t,e]);var r=e.map((function(r){return(0,c.jsxs)("li",{children:[(0,c.jsx)("img",{className:f,src:r.url,alt:"Food",width:"300"}),(0,c.jsxs)("div",{className:_,children:[(0,c.jsxs)("div",{children:[(0,c.jsx)("p",{className:g,children:r.title}),(0,c.jsxs)("p",{children:["Price: ",r.price]}),(0,c.jsxs)("label",{children:["Quantity:"," ",(0,c.jsx)("input",{className:b,type:"number",name:"quantity",min:"1",max:"50",onChange:function(n){return function(r,n){localStorage.removeItem("orders"),t((0,h.M$)({quantity:Number(r.target.value),_id:n})),localStorage.setItem("orders",JSON.stringify(e))}(n,r._id)},value:r.quantity,step:"1"})]}),(0,c.jsxs)("p",{className:x,children:["Price for ",r.quantity," products:"," ",r.quantity?Number(r.price)*Number(r.quantity):r.price]})]}),(0,c.jsx)("button",{onClick:function(){return e=r,void t((0,h.cl)(e));var e},type:"button",className:y,children:"X"})]})]},r._id)}));return(0,c.jsx)("ul",{className:v,children:r})},j=r(9524),S="ShoppingCartPage_content__IYoK+",N=function(){var e=JSON.parse(localStorage.getItem("orders"))?JSON.parse(localStorage.getItem("orders")):[],t=(0,n.I0)(),r=(0,n.v9)(p.D).totalPrice;return(0,c.jsxs)("div",{className:S,children:[(0,c.jsx)(d,{onSubmit:function(e){t((0,j.L)(e))},listOfOrders:e,total:r}),(0,c.jsx)(O,{listOfOrders:e})]})}},3351:function(e,t,r){r.d(t,{D:function(){return n},_:function(){return a}});var n=function(e){return e.orders.orders},a=function(e){return e.orders.userOrders}},675:function(e,t,r){function n(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},l=Object.keys(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}r.d(t,{Z:function(){return s}});var a="Input_input__2SVdu",l="Input_label__pfJzW",i=r(184),o=["label","type","name","id","placeholder","title","value","handleChange"],s=function(e){var t=e.label,r=e.type,s=e.name,u=e.id,c=e.placeholder,d=e.title,m=e.value,h=e.handleChange;n(e,o);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("label",{className:l,htmlFor:u,children:t}),(0,i.jsx)("input",{type:r,name:s,id:u,placeholder:c,title:d,value:m,onChange:h,className:a})]})}},8543:function(e,t,r){var n=r(4942),a=r(1413),l=r(9439),i=r(2791);t.Z=function(e){var t=e.initialState,r=e.onSubmit,o=(0,i.useState)((0,a.Z)({},t)),s=(0,l.Z)(o,2),u=s[0],c=s[1],d=(0,i.useCallback)((function(e){var t=e.target,r=t.name,l=t.value;c((function(e){return(0,a.Z)((0,a.Z)({},e),{},(0,n.Z)({},r,l))}))}),[c]);return{state:u,setState:c,handleChange:d,handleSubmit:function(e){e.preventDefault(),r((0,a.Z)({},u)),c((0,a.Z)({},t))}}}}}]);
//# sourceMappingURL=469.6b62edcd.chunk.js.map