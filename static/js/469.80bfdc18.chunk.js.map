{"version":3,"file":"static/js/469.80bfdc18.chunk.js","mappings":"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","sources":["components/OrderForm/initialState.js","webpack://react-homework-template/./src/components/OrderForm/OrderForm.module.css?3a20","components/OrderForm/OrderForm.jsx","webpack://react-homework-template/./src/components/OrderList/OrderList.module.css?ca7d","components/OrderList/OrderList.jsx","webpack://react-homework-template/./src/pages/ShoppingCartPage/ShoppingCartPage.module.css?012e","pages/ShoppingCartPage/ShoppingCartPage.jsx","redux/orders/ordersSelectors.js","../node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js","../node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js","webpack://react-homework-template/./src/shared/components/Input/Input.module.css?122e","shared/components/Input/Input.jsx","shared/hooks/useForm.jsx"],"sourcesContent":["const initialState = {\n  name: '',\n  email: '',\n  phone: '',\n  address: '',\n};\n\nexport default initialState;\n","// extracted by mini-css-extract-plugin\nexport default {\"button\":\"OrderForm_button__YYeSI\",\"form\":\"OrderForm_form__mnAgW\"};","import useForm from 'shared/hooks/useForm';\nimport initialState from './initialState';\nimport Input from 'shared/components/Input/Input';\n\nimport styles from './OrderForm.module.css';\n\nconst OrderForm = ({ onSubmit, listOfOrders, total }) => {\n  const { state, setState, handleChange } = useForm({\n    initialState,\n  });\n\n  const handleSubmit = (e, data) => {\n    e.preventDefault();\n    onSubmit(data);\n    setState({ ...initialState });\n  };\n\n  const currentShop = localStorage.getItem('shop');\n  const { email, name, phone, address } = state;\n\n  return (\n    <form\n      className={styles.form}\n      onSubmit={e => {\n        handleSubmit(e, {\n          ...state,\n          owner: email,\n          shop: currentShop,\n          goods: listOfOrders,\n          totalPrice: total,\n        });\n      }}\n    >\n      <Input\n        id=\"name\"\n        label=\"Your name\"\n        name=\"name\"\n        value={name}\n        placeholder=\"your name\"\n        type=\"text\"\n        handleChange={e => handleChange(e)}\n      />\n      <Input\n        id=\"email\"\n        label=\"Your email\"\n        name=\"email\"\n        value={email}\n        placeholder=\"your email\"\n        type=\"email\"\n        handleChange={e => handleChange(e)}\n      />\n      <Input\n        id=\"phone\"\n        label=\"Your phone\"\n        name=\"phone\"\n        value={phone}\n        placeholder=\"your phone\"\n        type=\"tel\"\n        handleChange={handleChange}\n      />\n      <Input\n        id=\"address\"\n        label=\"Your address\"\n        name=\"address\"\n        value={address}\n        placeholder=\"your address\"\n        type=\"text\"\n        handleChange={handleChange}\n      />\n      <div className={styles.button}>\n        Total: {''} {total}\n      </div>\n      <button className={styles.button}>SUBMIT YOUR ORDER</button>\n    </form>\n  );\n};\n\nexport default OrderForm;\n","// extracted by mini-css-extract-plugin\nexport default {\"img\":\"OrderList_img__TPr61\",\"goodTitle\":\"OrderList_goodTitle__KQ6YM\",\"list\":\"OrderList_list__c7IU4\",\"input\":\"OrderList_input__KdChA\",\"totalPrice\":\"OrderList_totalPrice__tdns3\"};","import { useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\n\nimport { setQuantity, setTotalPrice } from 'redux/orders/ordersSlice';\nimport { orderedGoods } from 'redux/orders/ordersSelectors';\n\nimport styles from './OrderList.module.css';\n\nconst OrderList = () => {\n  const [goodsList, setGoodsList] = useState([]);\n\n  // COMPONENT NEED REFACTORING    !!!!!!!!!!!!!!!\n  //\n  //\n  //\n  //\n  //\n  //\n  // !!!!!!!!!!!!!\n\n  const { goods } = useSelector(orderedGoods);\n  console.log(goods);\n  useEffect(() => {\n    setGoodsList(goods);\n  }, [goods]);\n\n  useEffect(() => {\n    try {\n      const orders = JSON.parse(localStorage.getItem('orders'))\n        ? JSON.parse(localStorage.getItem('orders'))\n        : [];\n      setGoodsList(orders);\n    } catch (e) {\n      console.log(e.message);\n    }\n  }, []);\n\n  const dispatch = useDispatch();\n\n  const handleChange = (e, data) => {\n    localStorage.removeItem('orders');\n    dispatch(setQuantity({ quantity: Number(e.target.value), _id: data }));\n\n    localStorage.setItem('orders', JSON.stringify(goods));\n    const orders = JSON.parse(localStorage.getItem('orders'))\n      ? JSON.parse(localStorage.getItem('orders'))\n      : [];\n    setGoodsList(orders);\n  };\n\n  useEffect(() => {\n    if (goodsList.length !== 0) {\n      dispatch(\n        setTotalPrice(\n          goodsList\n            .map(item => Number(item.price) * Number(item.quantity))\n            .reduce((acc, item) => {\n              console.log(item);\n              return acc + item;\n            }, 0)\n        )\n      );\n      return;\n    }\n    dispatch(setTotalPrice(0));\n  }, [dispatch, goodsList]);\n\n  const listOfOrders = goodsList.map(item => (\n    <li key={item._id}>\n      <div>\n        <img className={styles.img} src={item.url} alt=\"Food\" width=\"300\" />\n        <p className={styles.goodTitle}>{item.title}</p>\n        <p>Price: {item.price}</p>\n        <label>\n          Quantity:{' '}\n          <input\n            className={styles.input}\n            type=\"number\"\n            name=\"quantity\"\n            min=\"1\"\n            max=\"50\"\n            onChange={e => handleChange(e, item._id)}\n            value={item.quantity}\n            step=\"1\"\n          />\n          <p className={styles.totalPrice}>\n            Price for {item.quantity} products:{' '}\n            {item.quantity\n              ? Number(item.price) * Number(item.quantity)\n              : item.price}\n          </p>\n        </label>\n      </div>\n    </li>\n  ));\n\n  console.log(goodsList, 'goodsList');\n\n  return <ul className={styles.list}>{listOfOrders}</ul>;\n};\n\nexport default OrderList;\n","// extracted by mini-css-extract-plugin\nexport default {\"content\":\"ShoppingCartPage_content__IYoK+\"};","import { useSelector, useDispatch } from 'react-redux';\n\nimport OrderForm from 'components/OrderForm/OrderForm';\nimport OrderList from 'components/OrderList/OrderList';\n\nimport { orderedGoods } from 'redux/orders/ordersSelectors';\nimport { createOrder } from 'redux/orders/ordersOperations';\n\nimport styles from './ShoppingCartPage.module.css';\n\nconst ShoppingCartPage = () => {\n  const goods = JSON.parse(localStorage.getItem('orders'))\n    ? JSON.parse(localStorage.getItem('orders'))\n    : [];\n  const dispatch = useDispatch();\n\n  const { totalPrice } = useSelector(orderedGoods);\n\n  // const arrayOfId = goods.map(item => item._id);\n\n  const submitForm = data => {\n    dispatch(createOrder(data));\n  };\n\n  return (\n    <div className={styles.content}>\n      <OrderForm\n        onSubmit={submitForm}\n        listOfOrders={goods}\n        total={totalPrice}\n      />\n      <OrderList listOfOrders={goods} />\n    </div>\n  );\n};\n\nexport default ShoppingCartPage;\n","export const orderedGoods = ({ orders }) => orders.orders;\n\nexport const userOrders = ({ orders }) => orders.userOrders;\n","import objectWithoutPropertiesLoose from \"./objectWithoutPropertiesLoose.js\";\nexport default function _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}","export default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}","// extracted by mini-css-extract-plugin\nexport default {\"input\":\"Input_input__2SVdu\",\"label\":\"Input_label__pfJzW\"};","import styles from './Input.module.css';\n\nconst Input = ({\n  label,\n  type,\n  name,\n  id,\n  placeholder,\n  title,\n  value,\n  handleChange,\n  ...props\n}) => {\n  return (\n    <>\n      <label className={styles.label} htmlFor={id}>\n        {label}\n      </label>\n      <input\n        type={type}\n        name={name}\n        id={id}\n        placeholder={placeholder}\n        title={title}\n        value={value}\n        onChange={handleChange}\n        className={styles.input}\n      />\n    </>\n  );\n};\n\nexport default Input;\n","import { useState, useCallback } from 'react';\n\nconst useForm = ({ initialState, onSubmit }) => {\n  const [state, setState] = useState({ ...initialState });\n\n  const handleChange = useCallback(\n    ({ target }) => {\n      const { name, value } = target;\n      setState(prevState => {\n        return { ...prevState, [name]: value };\n      });\n    },\n    [setState]\n  );\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    onSubmit({ ...state });\n    setState({ ...initialState });\n  };\n\n  return { state, setState, handleChange, handleSubmit };\n};\n\nexport default useForm;\n"],"names":["name","email","phone","address","onSubmit","listOfOrders","total","useForm","initialState","state","setState","handleChange","handleSubmit","e","data","preventDefault","currentShop","localStorage","getItem","className","styles","owner","shop","goods","totalPrice","Input","id","label","value","placeholder","type","useState","goodsList","setGoodsList","useSelector","orderedGoods","console","log","useEffect","orders","JSON","parse","message","dispatch","useDispatch","length","setTotalPrice","map","item","Number","price","quantity","reduce","acc","src","url","alt","width","title","min","max","onChange","removeItem","setQuantity","target","_id","setItem","stringify","step","createOrder","userOrders","_objectWithoutProperties","source","excluded","key","i","sourceKeys","Object","keys","indexOf","getOwnPropertySymbols","sourceSymbolKeys","prototype","propertyIsEnumerable","call","htmlFor","useCallback","prevState"],"sourceRoot":""}