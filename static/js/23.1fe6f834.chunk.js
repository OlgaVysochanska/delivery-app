"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[23],{9023:function(t,e,n){n.r(e),n.d(e,{default:function(){return b}});var r=n(9434),o=n(2791),i=function(t){return t.shops.items},s=n(4694),a=n(5780),c=n(643),l=n(184),u=function(){return(0,l.jsx)(c.RL,{height:"80",width:"80",radius:"48",color:"#ff6347",ariaLabel:"watch-loading",wrapperStyle:{},wrapperClassName:"",visible:!0})},d="ShopList_buttonShop__hcDCZ",h=function(){var t=(0,r.I0)();(0,o.useEffect)((function(){t((0,s.N)()),t((0,a.T)("FastGood"))}),[t]);var e=(0,r.v9)(i),n=e.map((function(e){return(0,l.jsx)("li",{children:(0,l.jsx)("button",{className:d,onClick:function(){t((0,a.T)(e.name)),localStorage.setItem("shop",e.name)},children:e.name})},e._id)}));return(0,l.jsxs)("ul",{children:[0===e.length&&(0,l.jsx)(u,{}),n]})},f=n(3433),m=n(9439),_=n(3666),p=function(t){return t.goods.items},v="GoodsList_button__izDGf",j="GoodsList_img__NSveh",x="GoodsList_goodTitle__zoRtp",g="GoodsList_list__lxyED",N=function(){var t=(0,o.useState)([]),e=(0,m.Z)(t,2),n=e[0],i=e[1],s=(0,r.v9)(p),a=(0,r.I0)(),c=localStorage.getItem("orders");(0,o.useEffect)((function(){if(null!==c&&0!==c.length){var t=JSON.parse(c);i((0,f.Z)(t.map((function(t){return t._id}))))}}),[c]);var u=s.map((function(t){return(0,l.jsxs)("li",{children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("img",{className:j,src:t.url,alt:"Food",width:"240"}),(0,l.jsx)("p",{className:x,children:t.title}),(0,l.jsxs)("p",{children:["Price: ",t.price]})]}),n.includes(t._id)?(0,l.jsx)("button",{className:v,onClick:function(){return e=t,a((0,_.cl)(e)),void i(n.filter((function(t){return t._id!==e._id})));var e},children:"Remove from cart"}):(0,l.jsx)("button",{className:v,onClick:function(){var e;if(!c||!JSON.parse(c).find((function(e){return e.shop!==t.shop})))return e=t,a((0,_.T5)(e)),void i([].concat((0,f.Z)(n),[e._id]));alert("You can order products only from one shop. You already have items from another shop in your cart!")},children:"Add to cart"})]},t._id)}));return(0,l.jsx)("ul",{className:g,children:u})},S="ShopPage_content__FlRji",b=function(){return(0,l.jsxs)("div",{className:S,children:[(0,l.jsx)(h,{}),(0,l.jsx)(N,{})]})}}}]);
//# sourceMappingURL=23.1fe6f834.chunk.js.map