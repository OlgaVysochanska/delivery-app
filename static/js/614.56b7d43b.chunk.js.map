{"version":3,"file":"static/js/614.56b7d43b.chunk.js","mappings":"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","sources":["components/Loader/Loader.jsx","components/OrderForm/initialState.js","webpack://react-homework-template/./src/components/OrderForm/OrderForm.module.css?3a20","components/OrderForm/OrderForm.jsx","webpack://react-homework-template/./src/components/OrderList/OrderList.module.css?ca7d","components/Icons/CrossIcon.jsx","components/OrderList/OrderList.jsx","webpack://react-homework-template/./src/pages/ShoppingCartPage/ShoppingCartPage.module.css?012e","pages/ShoppingCartPage/ShoppingCartPage.jsx","redux/orders/ordersSelectors.js","../node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js","../node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js","webpack://react-homework-template/./src/shared/components/Input/Input.module.css?122e","shared/components/Input/Input.jsx","shared/hooks/useForm.jsx"],"sourcesContent":["import { Watch } from 'react-loader-spinner';\n\nexport const Loader = () => {\n  return (\n    <Watch\n      height=\"80\"\n      width=\"80\"\n      radius=\"48\"\n      color=\"#ff6347\"\n      ariaLabel=\"watch-loading\"\n      wrapperStyle={{}}\n      wrapperClassName=\"\"\n      visible={true}\n    />\n  );\n};\n","const initialState = {\n  name: '',\n  email: '',\n  phone: '',\n  address: '',\n};\n\nexport default initialState;\n","// extracted by mini-css-extract-plugin\nexport default {\"button\":\"OrderForm_button__YYeSI\",\"form\":\"OrderForm_form__mnAgW\"};","import useForm from 'shared/hooks/useForm';\nimport initialState from './initialState';\nimport Input from 'shared/components/Input/Input';\n\nimport styles from './OrderForm.module.css';\n\nconst OrderForm = ({ onSubmit, listOfOrders, total }) => {\n  const { state, setState, handleChange } = useForm({\n    initialState,\n  });\n\n  const handleSubmit = (e, data) => {\n    e.preventDefault();\n    onSubmit(data);\n    setState({ ...initialState });\n  };\n\n  const currentShop = localStorage.getItem('shop');\n  const { email, name, phone, address } = state;\n\n  return (\n    <form\n      className={styles.form}\n      onSubmit={e => {\n        handleSubmit(e, {\n          ...state,\n          owner: email,\n          shop: currentShop,\n          goods: listOfOrders,\n          totalPrice: total,\n        });\n      }}\n    >\n      <Input\n        id=\"name\"\n        label=\"Your name\"\n        name=\"name\"\n        value={name}\n        placeholder=\"your name\"\n        type=\"text\"\n        handleChange={e => handleChange(e)}\n      />\n      <Input\n        id=\"email\"\n        label=\"Your email\"\n        name=\"email\"\n        value={email}\n        placeholder=\"your email\"\n        type=\"email\"\n        handleChange={e => handleChange(e)}\n      />\n      <Input\n        id=\"phone\"\n        label=\"Your phone\"\n        name=\"phone\"\n        value={phone}\n        placeholder=\"your phone\"\n        type=\"tel\"\n        handleChange={handleChange}\n      />\n      <Input\n        id=\"address\"\n        label=\"Your address\"\n        name=\"address\"\n        value={address}\n        placeholder=\"your address\"\n        type=\"text\"\n        handleChange={handleChange}\n      />\n      <div className={styles.button}>\n        Total: {''} {total}\n      </div>\n      <button className={styles.button}>SUBMIT YOUR ORDER</button>\n    </form>\n  );\n};\n\nexport default OrderForm;\n","// extracted by mini-css-extract-plugin\nexport default {\"img\":\"OrderList_img__TPr61\",\"desc\":\"OrderList_desc__RCLrB\",\"goodTitle\":\"OrderList_goodTitle__KQ6YM\",\"list\":\"OrderList_list__c7IU4\",\"input\":\"OrderList_input__KdChA\",\"totalPrice\":\"OrderList_totalPrice__tdns3\",\"delete\":\"OrderList_delete__2w8ll\"};","import * as React from 'react';\n\n// color = stroke\n\nfunction CrossIcon(props) {\n  return (\n    <svg\n      width={24}\n      height={24}\n      // fill=\"none\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n      {...props}\n    >\n      <path\n        d=\"M19 5L5 19M5 5l14 14\"\n        stroke=\"#fff\"\n        strokeWidth={1.5}\n        strokeLinecap=\"round\"\n        strokeLinejoin=\"round\"\n      />\n    </svg>\n  );\n}\n\nexport default CrossIcon;\n","import { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\n\nimport {\n  setQuantity,\n  setTotalPrice,\n  removeItem,\n} from 'redux/orders/ordersSlice';\nimport { orderedGoods } from 'redux/orders/ordersSelectors';\n\nimport styles from './OrderList.module.css';\nimport CrossIcon from '../Icons/CrossIcon';\n\nconst OrderList = () => {\n  const { goods } = useSelector(orderedGoods);\n\n  const dispatch = useDispatch();\n\n  const handleChange = (e, data) => {\n    localStorage.removeItem('orders');\n    dispatch(setQuantity({ quantity: Number(e.target.value), _id: data }));\n    localStorage.setItem('orders', JSON.stringify(goods));\n  };\n\n  const removeFromCart = data => {\n    dispatch(removeItem(data));\n  };\n\n  useEffect(() => {\n    if (goods.length !== 0) {\n      dispatch(\n        setTotalPrice(\n          goods\n            .map(item => Number(item.price) * Number(item.quantity))\n            .reduce((acc, item) => {\n              return acc + item;\n            }, 0)\n        )\n      );\n      return;\n    }\n    dispatch(setTotalPrice(0));\n  }, [dispatch, goods]);\n\n  const listOfOrders = goods.map(item => (\n    <li key={item._id}>\n      <img className={styles.img} src={item.url} alt=\"Food\" width=\"300\" />\n      <div className={styles.desc}>\n        <div>\n          <p className={styles.goodTitle}>{item.title}</p>\n          <p>Price: {item.price}</p>\n          <label>\n            Quantity:{' '}\n            <input\n              className={styles.input}\n              type=\"number\"\n              name=\"quantity\"\n              min=\"1\"\n              max=\"50\"\n              onChange={e => handleChange(e, item._id)}\n              value={item.quantity}\n              step=\"1\"\n            />\n          </label>\n          <p className={styles.totalPrice}>\n            Price for {item.quantity} products:{' '}\n            {item.quantity\n              ? Number(item.price) * Number(item.quantity)\n              : item.price}\n          </p>\n        </div>\n        <button\n          onClick={() => removeFromCart(item)}\n          type=\"button\"\n          className={styles.delete}\n        >\n          <CrossIcon />\n        </button>\n      </div>\n    </li>\n  ));\n\n  return <ul className={styles.list}>{listOfOrders}</ul>;\n};\n\nexport default OrderList;\n","// extracted by mini-css-extract-plugin\nexport default {\"content\":\"ShoppingCartPage_content__IYoK+\"};","import { useSelector, useDispatch } from 'react-redux';\n\nimport OrderForm from 'components/OrderForm/OrderForm';\nimport OrderList from 'components/OrderList/OrderList';\n\nimport {\n  orderedGoods,\n  selectIsLoadingOrders,\n} from 'redux/orders/ordersSelectors';\nimport { createOrder } from 'redux/orders/ordersOperations';\n\nimport { Loader } from 'components/Loader/Loader';\n\nimport styles from './ShoppingCartPage.module.css';\n\nconst ShoppingCartPage = () => {\n  const goods = JSON.parse(localStorage.getItem('orders'))\n    ? JSON.parse(localStorage.getItem('orders'))\n    : [];\n  const dispatch = useDispatch();\n\n  const { totalPrice } = useSelector(orderedGoods);\n  const isLoading = useSelector(selectIsLoadingOrders);\n\n  const submitForm = data => {\n    dispatch(createOrder(data));\n  };\n\n  return (\n    <div className={styles.content}>\n      <OrderForm\n        onSubmit={submitForm}\n        listOfOrders={goods}\n        total={totalPrice}\n      />\n      {isLoading ? <Loader /> : <OrderList />}\n    </div>\n  );\n};\n\nexport default ShoppingCartPage;\n","export const orderedGoods = ({ orders }) => orders.orders;\n\nexport const userOrders = ({ orders }) => orders.userOrders;\n\nexport const selectIsLoadingOrders = ({ orders }) => orders.isLoading;\n","import objectWithoutPropertiesLoose from \"./objectWithoutPropertiesLoose.js\";\nexport default function _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}","export default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}","// extracted by mini-css-extract-plugin\nexport default {\"input\":\"Input_input__2SVdu\",\"label\":\"Input_label__pfJzW\"};","import styles from './Input.module.css';\n\nconst Input = ({\n  label,\n  type,\n  name,\n  id,\n  placeholder,\n  title,\n  value,\n  handleChange,\n  ...props\n}) => {\n  return (\n    <>\n      <label className={styles.label} htmlFor={id}>\n        {label}\n      </label>\n      <input\n        type={type}\n        name={name}\n        id={id}\n        placeholder={placeholder}\n        title={title}\n        value={value}\n        onChange={handleChange}\n        className={styles.input}\n      />\n    </>\n  );\n};\n\nexport default Input;\n","import { useState, useCallback } from 'react';\n\nconst useForm = ({ initialState, onSubmit }) => {\n  const [state, setState] = useState({ ...initialState });\n\n  const handleChange = useCallback(\n    ({ target }) => {\n      const { name, value } = target;\n      setState(prevState => {\n        return { ...prevState, [name]: value };\n      });\n    },\n    [setState]\n  );\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    onSubmit({ ...state });\n    setState({ ...initialState });\n  };\n\n  return { state, setState, handleChange, handleSubmit };\n};\n\nexport default useForm;\n"],"names":["Loader","height","width","radius","color","ariaLabel","wrapperStyle","wrapperClassName","visible","name","email","phone","address","onSubmit","listOfOrders","total","useForm","initialState","state","setState","handleChange","handleSubmit","e","data","preventDefault","currentShop","localStorage","getItem","className","styles","owner","shop","goods","totalPrice","Input","id","label","value","placeholder","type","props","xmlns","d","stroke","strokeWidth","strokeLinecap","strokeLinejoin","useSelector","orderedGoods","dispatch","useDispatch","useEffect","length","setTotalPrice","map","item","Number","price","quantity","reduce","acc","src","url","alt","title","min","max","onChange","removeItem","setQuantity","target","_id","setItem","JSON","stringify","step","onClick","parse","isLoading","selectIsLoadingOrders","createOrder","orders","userOrders","_objectWithoutProperties","source","excluded","key","i","sourceKeys","Object","keys","indexOf","getOwnPropertySymbols","sourceSymbolKeys","prototype","propertyIsEnumerable","call","htmlFor","useState","useCallback","prevState"],"sourceRoot":""}