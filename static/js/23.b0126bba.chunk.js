"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[23],{9023:function(t,n,e){e.r(n),e.d(n,{default:function(){return S}});var o=e(9434),r=e(2791),s=function(t){return t.shops.items},i=e(4694),c=e(5780),a=e(4691),u=e(184),l=function(){return(0,u.jsx)(a.no,{color:"#4fa94d"})},d="ShopList_buttonShop__hcDCZ",f=function(){var t=(0,o.I0)();(0,r.useEffect)((function(){t((0,i.N)()),t((0,c.T)("FastGood"))}),[t]);var n=(0,o.v9)(s),e=n.map((function(n){return(0,u.jsx)("li",{children:(0,u.jsx)("button",{className:d,onClick:function(){t((0,c.T)(n.name)),localStorage.setItem("shop",n.name)},children:n.name})},n._id)}));return(0,u.jsxs)("ul",{children:[0===n.length&&(0,u.jsx)(l,{}),e]})},h=e(3433),_=e(9439),m=e(3666),p=function(t){return t.goods.items},j="GoodsList_button__izDGf",v="GoodsList_img__NSveh",x="GoodsList_goodTitle__zoRtp",N="GoodsList_list__lxyED",g=function(){var t=(0,r.useState)([]),n=(0,_.Z)(t,2),e=n[0],s=n[1],i=(0,o.v9)(p),c=(0,o.I0)(),a=localStorage.getItem("orders");(0,r.useEffect)((function(){if(null!==a&&0!==a.length){var t=JSON.parse(a);s((0,h.Z)(t.map((function(t){return t._id}))))}}),[a]);var l=i.map((function(t){return(0,u.jsxs)("li",{children:[(0,u.jsxs)("div",{children:[(0,u.jsx)("img",{className:v,src:t.url,alt:"Food",width:"240"}),(0,u.jsx)("p",{className:x,children:t.title}),(0,u.jsxs)("p",{children:["Price: ",t.price]})]}),e.includes(t._id)?(0,u.jsx)("button",{className:j,onClick:function(){return n=t,c((0,m.cl)(n)),void s(e.filter((function(t){return t._id!==n._id})));var n},children:"Remove from cart"}):(0,u.jsx)("button",{className:j,onClick:function(){var n;if(!a||!JSON.parse(a).find((function(n){return n.shop!==t.shop})))return n=t,c((0,m.T5)(n)),void s([].concat((0,h.Z)(e),[n._id]));alert("You can order products only from one shop. You already have items from another shop in your cart!")},children:"Add to cart"})]},t._id)}));return(0,u.jsx)("ul",{className:N,children:l})},k="ShopPage_content__FlRji",S=function(){return(0,u.jsxs)("div",{className:k,children:[(0,u.jsx)(f,{}),(0,u.jsx)(g,{})]})}}}]);
//# sourceMappingURL=23.b0126bba.chunk.js.map