"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[23],{9023:function(t,e,n){n.r(e),n.d(e,{default:function(){return k}});var o=n(9434),r=n(2791),s=function(t){return t.shops.items},i=n(4694),c=n(5780),a=n(4691),l=n(184),u=function(){return(0,l.jsx)(a.no,{color:"#4fa94d"})},d="ShopList_buttonShop__hcDCZ",f=function(){var t=(0,o.I0)();(0,r.useEffect)((function(){t((0,i.N)()),t((0,c.T)("FastGood"))}),[t]);var e=(0,o.v9)(s),n=e.map((function(e){return(0,l.jsx)("li",{children:(0,l.jsx)("button",{className:d,onClick:function(){t((0,c.T)(e.name)),localStorage.setItem("shop",e.name)},children:e.name})},e._id)}));return(0,l.jsxs)("ul",{children:[0===e.length&&(0,l.jsx)(u,{}),n]})},h=n(3433),m=n(9439),_=n(3666),p=function(t){return t.goods.items},j="GoodsList_button__izDGf",v="GoodsList_img__NSveh",x="GoodsList_goodTitle__zoRtp",g="GoodsList_list__lxyED",N=function(){var t=(0,r.useState)([]),e=(0,m.Z)(t,2),n=e[0],s=e[1],i=(0,o.v9)(p),c=(0,o.I0)(),a=localStorage.getItem("orders");(0,r.useEffect)((function(){if(null!==a&&0!==a.length){var t=JSON.parse(localStorage.getItem("orders"));s((0,h.Z)(t.map((function(t){return t._id}))))}}),[a]);var u=i.map((function(t){return(0,l.jsxs)("li",{children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("img",{className:v,src:t.url,alt:"Food",width:"240"}),(0,l.jsx)("p",{className:x,children:t.title}),(0,l.jsxs)("p",{children:["Price: ",t.price]})]}),n.includes(t._id)?(0,l.jsx)("button",{className:j,onClick:function(){return e=t,c((0,_.cl)(e)),void s(n.filter((function(t){return t._id!==e._id})));var e},children:"Remove from cart"}):(0,l.jsx)("button",{className:j,onClick:function(){var e;if(!JSON.parse(localStorage.getItem("orders")).find((function(e){return e.shop!==t.shop})))return e=t,c((0,_.T5)(e)),void s([].concat((0,h.Z)(n),[e._id]));alert("You can order products only from one shop. You already have items from another shop in your cart!")},children:"Add to cart"})]},t._id)}));return(0,l.jsx)("ul",{className:g,children:u})},S="ShopPage_content__FlRji",k=function(){return(0,l.jsxs)("div",{className:S,children:[(0,l.jsx)(f,{}),(0,l.jsx)(N,{})]})}}}]);
//# sourceMappingURL=23.1b054c9c.chunk.js.map