{"version":3,"file":"static/js/23.a8c327f8.chunk.js","mappings":"2MAAaA,EAAc,SAAC,GAAD,SAAGC,MAAkBC,KAArB,E,uCCEdC,EAAS,WACpB,OACE,SAAC,KAAD,CAIEC,MAAM,WAOX,ECdD,EAA6B,6BCwC7B,EAhCiB,WACf,IAAMC,GAAWC,EAAAA,EAAAA,OAEjBC,EAAAA,EAAAA,YAAU,WACRF,GAASG,EAAAA,EAAAA,MACTH,GAASI,EAAAA,EAAAA,GAAW,YACrB,GAAE,CAACJ,IAEJ,IAAMJ,GAAQS,EAAAA,EAAAA,IAAYV,GAEpBW,EAAWV,EAAMW,KAAI,SAAAC,GAAI,OAC7B,yBACE,mBACEC,UAAWC,EACXC,QAAS,WACPX,GAASI,EAAAA,EAAAA,GAAWI,EAAKI,OACzBC,aAAaC,QAAQ,OAAQN,EAAKI,KACnC,EALH,SAOGJ,EAAKI,QARDJ,EAAKO,IADe,IAc/B,OACE,0BACoB,IAAjBnB,EAAMoB,SAAgB,SAAClB,EAAD,IACtBQ,IAGN,E,8BCvCYW,EAAc,SAAC,GAAD,SAAGC,MAAkBrB,KAArB,ECC3B,EAAyB,0BAAzB,EAAyD,uBAAzD,EAA4F,6BAA5F,EAAgI,wBCoEhI,EA7DkB,WAChB,OAAwCsB,EAAAA,EAAAA,UAAS,IAAjD,eAAOC,EAAP,KAAqBC,EAArB,KACMH,GAAQb,EAAAA,EAAAA,IAAYY,GACpBjB,GAAWC,EAAAA,EAAAA,MACXqB,EAAYT,aAAaU,QAAQ,WAEvCrB,EAAAA,EAAAA,YAAU,WACR,GAAkB,OAAdoB,GAA2C,IAArBA,EAAUN,OAAc,CAChD,IAAMQ,EAAWC,KAAKC,MAAMJ,GAC5BD,GAAgB,OAAIG,EAASjB,KAAI,SAAAC,GAAI,OAAIA,EAAKO,GAAT,KACtC,CACF,GAAE,CAACO,IAEJ,IAUMK,EAAYT,EAAMX,KAAI,SAAAC,GAC1B,OACE,2BACE,4BACE,gBAAKC,UAAWC,EAAYkB,IAAKpB,EAAKqB,IAAKC,IAAI,OAAOC,MAAM,SAC5D,cAAGtB,UAAWC,EAAd,SAAiCF,EAAKwB,SACtC,yBAAG,UAAQxB,EAAKyB,YAEjBb,EAAac,SAAS1B,EAAKO,MAC1B,mBACEN,UAAWC,EACXC,QAAS,kBAhBIwB,EAgBiB3B,EAftCR,GAASoC,EAAAA,EAAAA,IAAWD,SACpBd,EAAgBD,EAAaiB,QAAO,SAAA7B,GAAI,OAAIA,EAAKO,MAAQoB,EAAKpB,GAAtB,KAFnB,IAAAoB,CAgBJ,EAFX,SAGC,sBAID,mBACE1B,UAAWC,EACXC,QAAS,WA5BD,IAAAwB,EA6BN,IAAIV,KAAKC,MAAMJ,GAAWgB,MAAK,SAAAC,GAAG,OAAIA,EAAIC,OAAShC,EAAKgC,IAAtB,IAMlC,OAnCML,EAmCW3B,EAlC3BR,GAASyC,EAAAA,EAAAA,IAASN,SAClBd,EAAgB,GAAD,eAAKD,GAAL,CAAmBe,EAAKpB,OA4B3B2B,MACE,oGAKL,EAVH,SAWC,kBAzBIlC,EAAKO,IA+BjB,IAED,OAAO,eAAIN,UAAWC,EAAf,SAA6BiB,GACrC,EClED,EAA0B,0BCa1B,EATiB,WACf,OACE,iBAAKlB,UAAWC,EAAhB,WACE,SAAC,EAAD,KACA,SAAC,EAAD,MAGL,C","sources":["redux/shops/shopsSelectors.js","components/Loader/Loader.jsx","webpack://react-homework-template/./src/components/ShopList/ShopList.module.css?e511","components/ShopList/ShopList.jsx","redux/goods/goodsSelectors.js","webpack://react-homework-template/./src/components/GoodsList/GoodsList.module.css?8e3b","components/GoodsList/GoodsList.jsx","webpack://react-homework-template/./src/pages/ShopPage/ShopPage.module.css?b1ec","pages/ShopPage/ShopPage.jsx"],"sourcesContent":["export const selectShops = ({ shops }) => shops.items;\n","import { Blocks } from 'react-loader-spinner';\n\nexport const Loader = () => {\n  return (\n    <Blocks\n      // height={100}\n      // width={100}\n      // radius={5}\n      color=\"#4fa94d\"\n      // ariaLabel=\"ball-triangle-loading\"\n      // wrapperClass={{}}\n      // wrapperStyle=\"\"\n      // visible={true}\n    />\n  );\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"buttonShop\":\"ShopList_buttonShop__hcDCZ\"};","import { useDispatch, useSelector } from 'react-redux';\nimport { useEffect } from 'react';\nimport { selectShops } from 'redux/shops/shopsSelectors';\nimport { fetchShops } from 'redux/shops/shopsOperations';\nimport { fetchGoods } from 'redux/goods/goodsOperations';\nimport { Loader } from 'components/Loader/Loader';\n\nimport styles from './ShopList.module.css';\n\nconst ShopList = () => {\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    dispatch(fetchShops());\n    dispatch(fetchGoods('FastGood'));\n  }, [dispatch]);\n\n  const shops = useSelector(selectShops);\n\n  const shopBtns = shops.map(item => (\n    <li key={item._id}>\n      <button\n        className={styles.buttonShop}\n        onClick={() => {\n          dispatch(fetchGoods(item.name));\n          localStorage.setItem('shop', item.name);\n        }}\n      >\n        {item.name}\n      </button>\n    </li>\n  ));\n\n  return (\n    <ul>\n      {shops.length === 0 && <Loader />}\n      {shopBtns}\n    </ul>\n  );\n};\n\nexport default ShopList;\n","export const selectGoods = ({ goods }) => goods.items;\n","// extracted by mini-css-extract-plugin\nexport default {\"button\":\"GoodsList_button__izDGf\",\"img\":\"GoodsList_img__NSveh\",\"goodTitle\":\"GoodsList_goodTitle__zoRtp\",\"list\":\"GoodsList_list__lxyED\"};","import { useState, useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\n\nimport { setGoods, removeItem } from 'redux/orders/ordersSlice';\nimport { selectGoods } from 'redux/goods/goodsSelectors';\n\nimport styles from './GoodsList.module.css';\n\nconst GoodsList = () => {\n  const [selectedFood, setSelectedFood] = useState([]);\n  const goods = useSelector(selectGoods);\n  const dispatch = useDispatch();\n  const localFood = localStorage.getItem('orders');\n\n  useEffect(() => {\n    if (localFood !== null && localFood.length !== 0) {\n      const selected = JSON.parse(localFood);\n      setSelectedFood([...selected.map(item => item._id)]);\n    }\n  }, [localFood]);\n\n  const addToCart = data => {\n    dispatch(setGoods(data));\n    setSelectedFood([...selectedFood, data._id]);\n  };\n\n  const removeFromCart = data => {\n    dispatch(removeItem(data));\n    setSelectedFood(selectedFood.filter(item => item._id !== data._id));\n  };\n\n  const goodsList = goods.map(item => {\n    return (\n      <li key={item._id}>\n        <div>\n          <img className={styles.img} src={item.url} alt=\"Food\" width=\"240\" />\n          <p className={styles.goodTitle}>{item.title}</p>\n          <p>Price: {item.price}</p>\n        </div>\n        {selectedFood.includes(item._id) ? (\n          <button\n            className={styles.button}\n            onClick={() => removeFromCart(item)}\n          >\n            Remove from cart\n          </button>\n        ) : (\n          <button\n            className={styles.button}\n            onClick={() => {\n              if (JSON.parse(localFood).find(ord => ord.shop !== item.shop)) {\n                alert(\n                  'You can order products only from one shop. You already have items from another shop in your cart!'\n                );\n                return;\n              }\n              return addToCart(item);\n            }}\n          >\n            Add to cart\n          </button>\n        )}\n      </li>\n    );\n  });\n\n  return <ul className={styles.list}>{goodsList}</ul>;\n};\n\nexport default GoodsList;\n","// extracted by mini-css-extract-plugin\nexport default {\"content\":\"ShopPage_content__FlRji\"};","import ShopList from 'components/ShopList/ShopList';\nimport GoodsList from 'components/GoodsList/GoodsList';\n\nimport styles from './ShopPage.module.css';\n\nconst ShopPage = () => {\n  return (\n    <div className={styles.content}>\n      <ShopList />\n      <GoodsList />\n    </div>\n  );\n};\n\nexport default ShopPage;\n"],"names":["selectShops","shops","items","Loader","color","dispatch","useDispatch","useEffect","fetchShops","fetchGoods","useSelector","shopBtns","map","item","className","styles","onClick","name","localStorage","setItem","_id","length","selectGoods","goods","useState","selectedFood","setSelectedFood","localFood","getItem","selected","JSON","parse","goodsList","src","url","alt","width","title","price","includes","data","removeItem","filter","find","ord","shop","setGoods","alert"],"sourceRoot":""}