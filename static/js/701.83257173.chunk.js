"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[701],{854:function(n,t,e){e.d(t,{a:function(){return i}});var r=e(643),o=e(184),i=function(){return(0,o.jsx)(r.RL,{height:"80",width:"80",radius:"48",color:"#ff6347",ariaLabel:"watch-loading",wrapperStyle:{},wrapperClassName:"",visible:!0})}},8701:function(n,t,e){e.r(t),e.d(t,{default:function(){return k}});var r=e(9434),o=e(2791),i=function(n){return n.shops.items},s=function(n){return n.shops.isLoading},a=e(4694),c=e(5780),u=e(854),l="ShopList_buttonShop__hcDCZ",d=e(184),f=function(){var n=(0,r.I0)();(0,o.useEffect)((function(){n((0,a.N)()),n((0,c.T)("FastGood"))}),[n]);var t=(0,r.v9)(i),e=(0,r.v9)(s),f=t.map((function(t){return(0,d.jsx)("li",{children:(0,d.jsx)("button",{className:l,onClick:function(){n((0,c.T)(t.name)),localStorage.setItem("shop",t.name)},children:t.name})},t._id)}));return(0,d.jsxs)(d.Fragment,{children:[e&&(0,d.jsx)(u.a,{}),(0,d.jsx)("ul",{children:f})]})},h=e(3433),m=e(9439),p=e(3666),_=function(n){return n.goods.items},v=function(n){return n.goods.isLoading},j="GoodsList_button__izDGf",x="GoodsList_img__NSveh",g="GoodsList_goodTitle__zoRtp",N="GoodsList_list__lxyED",S=function(){var n=(0,o.useState)([]),t=(0,m.Z)(n,2),e=t[0],i=t[1],s=(0,r.v9)(_),a=(0,r.v9)(v),c=(0,r.I0)(),l=localStorage.getItem("orders");(0,o.useEffect)((function(){if(null!==l&&0!==l.length){var n=JSON.parse(l);i((0,h.Z)(n.map((function(n){return n._id}))))}}),[l]);var f=s.map((function(n){return(0,d.jsxs)("li",{children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("img",{className:x,src:n.url,alt:"Food",width:"240"}),(0,d.jsx)("p",{className:g,children:n.title}),(0,d.jsxs)("p",{children:["Price: ",n.price]})]}),e.includes(n._id)?(0,d.jsx)("button",{className:j,onClick:function(){return t=n,c((0,p.cl)(t)),void i(e.filter((function(n){return n._id!==t._id})));var t},children:"Remove from cart"}):(0,d.jsx)("button",{className:j,onClick:function(){var t;if(!l||!JSON.parse(l).find((function(t){return t.shop!==n.shop})))return t=n,c((0,p.T5)(t)),void i([].concat((0,h.Z)(e),[t._id]));alert("You can order products only from one shop. You already have items from another shop in your cart!")},children:"Add to cart"})]},n._id)}));return(0,d.jsx)(d.Fragment,{children:a?(0,d.jsx)(u.a,{}):(0,d.jsx)("ul",{className:N,children:f})})},b="ShopPage_content__FlRji",k=function(){return(0,d.jsxs)("div",{className:b,children:[(0,d.jsx)(f,{}),(0,d.jsx)(S,{})]})}}}]);
//# sourceMappingURL=701.83257173.chunk.js.map