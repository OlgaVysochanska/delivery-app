"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[469],{854:function(e,t,r){r.d(t,{a:function(){return l}});var n=r(643),a=r(184),l=function(){return(0,a.jsx)(n.RL,{height:"80",width:"80",radius:"48",color:"#ff6347",ariaLabel:"watch-loading",wrapperStyle:{},wrapperClassName:"",visible:!0})}},469:function(e,t,r){r.r(t),r.d(t,{default:function(){return Z}});var n=r(9434),a=r(1413),l=r(8543),i={name:"",email:"",phone:"",address:""},o=r(675),u="OrderForm_button__YYeSI",s="OrderForm_form__mnAgW",c=r(184),d=function(e){var t=e.onSubmit,r=e.listOfOrders,n=e.total,d=(0,l.Z)({initialState:i}),m=d.state,p=d.setState,h=d.handleChange,f=function(e,r){e.preventDefault(),t(r),p((0,a.Z)({},i))},_=localStorage.getItem("shop"),g=m.email,v=m.name,b=m.phone,y=m.address;return(0,c.jsxs)("form",{className:s,onSubmit:function(e){f(e,(0,a.Z)((0,a.Z)({},m),{},{owner:g,shop:_,goods:r,totalPrice:n}))},children:[(0,c.jsx)(o.Z,{id:"name",label:"Your name",name:"name",value:v,placeholder:"your name",type:"text",handleChange:function(e){return h(e)}}),(0,c.jsx)(o.Z,{id:"email",label:"Your email",name:"email",value:g,placeholder:"your email",type:"email",handleChange:function(e){return h(e)}}),(0,c.jsx)(o.Z,{id:"phone",label:"Your phone",name:"phone",value:b,placeholder:"your phone",type:"tel",handleChange:h}),(0,c.jsx)(o.Z,{id:"address",label:"Your address",name:"address",value:y,placeholder:"your address",type:"text",handleChange:h}),(0,c.jsxs)("div",{className:u,children:["Total: ",""," ",n]}),(0,c.jsx)("button",{className:u,children:"SUBMIT YOUR ORDER"})]})},m=r(2791),p=r(3666),h=r(3351),f="OrderList_img__TPr61",_="OrderList_desc__RCLrB",g="OrderList_goodTitle__KQ6YM",v="OrderList_list__c7IU4",b="OrderList_input__KdChA",y="OrderList_totalPrice__tdns3",x="OrderList_delete__2w8ll",j=function(){var e=(0,n.v9)(h.Dp).goods,t=(0,n.I0)();(0,m.useEffect)((function(){0===e.length?t((0,p.m1)(0)):t((0,p.m1)(e.map((function(e){return Number(e.price)*Number(e.quantity)})).reduce((function(e,t){return e+t}),0)))}),[t,e]);var r=e.map((function(r){return(0,c.jsxs)("li",{children:[(0,c.jsx)("img",{className:f,src:r.url,alt:"Food",width:"300"}),(0,c.jsxs)("div",{className:_,children:[(0,c.jsxs)("div",{children:[(0,c.jsx)("p",{className:g,children:r.title}),(0,c.jsxs)("p",{children:["Price: ",r.price]}),(0,c.jsxs)("label",{children:["Quantity:"," ",(0,c.jsx)("input",{className:b,type:"number",name:"quantity",min:"1",max:"50",onChange:function(n){return function(r,n){localStorage.removeItem("orders"),t((0,p.M$)({quantity:Number(r.target.value),_id:n})),localStorage.setItem("orders",JSON.stringify(e))}(n,r._id)},value:r.quantity,step:"1"})]}),(0,c.jsxs)("p",{className:y,children:["Price for ",r.quantity," products:"," ",r.quantity?Number(r.price)*Number(r.quantity):r.price]})]}),(0,c.jsx)("button",{onClick:function(){return e=r,void t((0,p.cl)(e));var e},type:"button",className:x,children:"X"})]})]},r._id)}));return(0,c.jsx)("ul",{className:v,children:r})},O=r(9524),S=r(854),N="ShoppingCartPage_content__IYoK+",Z=function(){var e=JSON.parse(localStorage.getItem("orders"))?JSON.parse(localStorage.getItem("orders")):[],t=(0,n.I0)(),r=(0,n.v9)(h.Dp).totalPrice,a=(0,n.v9)(h.yZ);return(0,c.jsxs)("div",{className:N,children:[(0,c.jsx)(d,{onSubmit:function(e){t((0,O.L)(e))},listOfOrders:e,total:r}),a?(0,c.jsx)(S.a,{}):(0,c.jsx)(j,{})]})}},3351:function(e,t,r){r.d(t,{Dp:function(){return n},_Y:function(){return a},yZ:function(){return l}});var n=function(e){return e.orders.orders},a=function(e){return e.orders.userOrders},l=function(e){return e.orders.isLoading}},675:function(e,t,r){function n(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},l=Object.keys(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}r.d(t,{Z:function(){return u}});var a="Input_input__2SVdu",l="Input_label__pfJzW",i=r(184),o=["label","type","name","id","placeholder","title","value","handleChange"],u=function(e){var t=e.label,r=e.type,u=e.name,s=e.id,c=e.placeholder,d=e.title,m=e.value,p=e.handleChange;n(e,o);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("label",{className:l,htmlFor:s,children:t}),(0,i.jsx)("input",{type:r,name:u,id:s,placeholder:c,title:d,value:m,onChange:p,className:a})]})}},8543:function(e,t,r){var n=r(4942),a=r(1413),l=r(9439),i=r(2791);t.Z=function(e){var t=e.initialState,r=e.onSubmit,o=(0,i.useState)((0,a.Z)({},t)),u=(0,l.Z)(o,2),s=u[0],c=u[1],d=(0,i.useCallback)((function(e){var t=e.target,r=t.name,l=t.value;c((function(e){return(0,a.Z)((0,a.Z)({},e),{},(0,n.Z)({},r,l))}))}),[c]);return{state:s,setState:c,handleChange:d,handleSubmit:function(e){e.preventDefault(),r((0,a.Z)({},s)),c((0,a.Z)({},t))}}}}}]);
//# sourceMappingURL=469.66aa6316.chunk.js.map