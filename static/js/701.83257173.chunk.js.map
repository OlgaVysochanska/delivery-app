{"version":3,"file":"static/js/701.83257173.chunk.js","mappings":"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","sources":["components/Loader/Loader.jsx","redux/shops/shopsSelectors.js","webpack://react-homework-template/./src/components/ShopList/ShopList.module.css?e511","components/ShopList/ShopList.jsx","redux/goods/goodsSelectors.js","webpack://react-homework-template/./src/components/GoodsList/GoodsList.module.css?8e3b","components/GoodsList/GoodsList.jsx","webpack://react-homework-template/./src/pages/ShopPage/ShopPage.module.css?b1ec","pages/ShopPage/ShopPage.jsx"],"sourcesContent":["import { Watch } from 'react-loader-spinner';\n\nexport const Loader = () => {\n  return (\n    <Watch\n      height=\"80\"\n      width=\"80\"\n      radius=\"48\"\n      color=\"#ff6347\"\n      ariaLabel=\"watch-loading\"\n      wrapperStyle={{}}\n      wrapperClassName=\"\"\n      visible={true}\n    />\n  );\n};\n","export const selectShops = ({ shops }) => shops.items;\n\nexport const selectIsLoadingShops = ({ shops }) => shops.isLoading;\n","// extracted by mini-css-extract-plugin\nexport default {\"buttonShop\":\"ShopList_buttonShop__hcDCZ\"};","import { useDispatch, useSelector } from 'react-redux';\nimport { useEffect } from 'react';\nimport { selectShops, selectIsLoadingShops } from 'redux/shops/shopsSelectors';\nimport { fetchShops } from 'redux/shops/shopsOperations';\nimport { fetchGoods } from 'redux/goods/goodsOperations';\nimport { Loader } from 'components/Loader/Loader';\n\nimport styles from './ShopList.module.css';\n\nconst ShopList = () => {\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    dispatch(fetchShops());\n    dispatch(fetchGoods('FastGood'));\n  }, [dispatch]);\n\n  const shops = useSelector(selectShops);\n  const isLoading = useSelector(selectIsLoadingShops);\n\n  const shopBtns = shops.map(item => (\n    <li key={item._id}>\n      <button\n        className={styles.buttonShop}\n        onClick={() => {\n          dispatch(fetchGoods(item.name));\n          localStorage.setItem('shop', item.name);\n        }}\n      >\n        {item.name}\n      </button>\n    </li>\n  ));\n\n  return (\n    <>\n      {isLoading && <Loader />}\n      <ul>{shopBtns}</ul>\n    </>\n  );\n};\n\nexport default ShopList;\n","export const selectGoods = ({ goods }) => goods.items;\n\nexport const selectIsLoadingGoods = ({ goods }) => goods.isLoading;\n","// extracted by mini-css-extract-plugin\nexport default {\"button\":\"GoodsList_button__izDGf\",\"img\":\"GoodsList_img__NSveh\",\"goodTitle\":\"GoodsList_goodTitle__zoRtp\",\"list\":\"GoodsList_list__lxyED\"};","import { useState, useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\n\nimport { setGoods, removeItem } from 'redux/orders/ordersSlice';\nimport { selectGoods, selectIsLoadingGoods } from 'redux/goods/goodsSelectors';\n\nimport { Loader } from 'components/Loader/Loader';\n\nimport styles from './GoodsList.module.css';\n\nconst GoodsList = () => {\n  const [selectedFood, setSelectedFood] = useState([]);\n  const goods = useSelector(selectGoods);\n  const isLoading = useSelector(selectIsLoadingGoods);\n  const dispatch = useDispatch();\n  const localFood = localStorage.getItem('orders');\n\n  useEffect(() => {\n    if (localFood !== null && localFood.length !== 0) {\n      const selected = JSON.parse(localFood);\n      setSelectedFood([...selected.map(item => item._id)]);\n    }\n  }, [localFood]);\n\n  const addToCart = data => {\n    dispatch(setGoods(data));\n    setSelectedFood([...selectedFood, data._id]);\n  };\n\n  const removeFromCart = data => {\n    dispatch(removeItem(data));\n    setSelectedFood(selectedFood.filter(item => item._id !== data._id));\n  };\n\n  const goodsList = goods.map(item => {\n    return (\n      <li key={item._id}>\n        <div>\n          <img className={styles.img} src={item.url} alt=\"Food\" width=\"240\" />\n          <p className={styles.goodTitle}>{item.title}</p>\n          <p>Price: {item.price}</p>\n        </div>\n        {selectedFood.includes(item._id) ? (\n          <button\n            className={styles.button}\n            onClick={() => removeFromCart(item)}\n          >\n            Remove from cart\n          </button>\n        ) : (\n          <button\n            className={styles.button}\n            onClick={() => {\n              if (localFood) {\n                if (JSON.parse(localFood).find(ord => ord.shop !== item.shop)) {\n                  alert(\n                    'You can order products only from one shop. You already have items from another shop in your cart!'\n                  );\n                  return;\n                }\n              }\n              return addToCart(item);\n            }}\n          >\n            Add to cart\n          </button>\n        )}\n      </li>\n    );\n  });\n\n  return (\n    <>{isLoading ? <Loader /> : <ul className={styles.list}>{goodsList}</ul>}</>\n  );\n};\n\nexport default GoodsList;\n","// extracted by mini-css-extract-plugin\nexport default {\"content\":\"ShopPage_content__FlRji\"};","import ShopList from 'components/ShopList/ShopList';\nimport GoodsList from 'components/GoodsList/GoodsList';\n\nimport styles from './ShopPage.module.css';\n\nconst ShopPage = () => {\n  return (\n    <div className={styles.content}>\n      <ShopList />\n      <GoodsList />\n    </div>\n  );\n};\n\nexport default ShopPage;\n"],"names":["Loader","height","width","radius","color","ariaLabel","wrapperStyle","wrapperClassName","visible","selectShops","shops","items","selectIsLoadingShops","isLoading","dispatch","useDispatch","useEffect","fetchShops","fetchGoods","useSelector","shopBtns","map","item","className","styles","onClick","name","localStorage","setItem","_id","selectGoods","goods","selectIsLoadingGoods","useState","selectedFood","setSelectedFood","localFood","getItem","length","selected","JSON","parse","goodsList","src","url","alt","title","price","includes","data","removeItem","filter","find","ord","shop","setGoods","alert"],"sourceRoot":""}